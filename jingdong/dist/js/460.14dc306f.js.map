{"version":3,"file":"js/460.14dc306f.js","mappings":"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","sources":["webpack://jingdong/./src/components/Toast.vue","webpack://jingdong/./src/components/Toast.vue?44c7","webpack://jingdong/./src/views/register/Register.vue","webpack://jingdong/./src/views/register/Register.vue?6e35"],"sourcesContent":["<template>\r\n  <div class=\"toast\">{{message}}</div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, toRefs } from \"@vue/reactivity\";\r\n\r\nexport default {\r\n  name: 'ToastView',\r\n  props: ['message'],\r\n}\r\n\r\nexport const useToastEffect = ()=>{\r\n  const toastData = reactive({\r\n    show: false,\r\n    toastMsg: ''\r\n  })\r\n  // 通过toRefs返回show, toastMsg\r\n  const {show, toastMsg} = toRefs(toastData)\r\n  const showToast = (msg)=>{\r\n    toastData.show = true\r\n    toastData.toastMsg = msg\r\n    setTimeout(()=>{\r\n      toastData.show = false\r\n      toastData.toastMsg = ''\r\n    },1500)\r\n  }\r\n  return {show, toastMsg,showToast}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../style/viriables.scss';\r\n.toast {\r\n  position: absolute;\r\n  padding: .09rem;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  background: rgba(0, 0, 0, .35);\r\n  border-radius: .05rem;\r\n  color: $bgColor;\r\n}\r\n</style>\r\n","import { render } from \"./Toast.vue?vue&type=template&id=0628063c&scoped=true\"\nimport script from \"./Toast.vue?vue&type=script&lang=js\"\nexport * from \"./Toast.vue?vue&type=script&lang=js\"\n\nimport \"./Toast.vue?vue&type=style&index=0&id=0628063c&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Carrie\\\\VVVVVue\\\\jingdong\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0628063c\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"wrapper\">\r\n    <img src=\"http://www.dell-lee.com/imgs/vue3/user.png\" alt=\"\" />\r\n    <div class=\"wrapper__input\">\r\n      <input v-model=\"username\" type=\"text\" placeholder=\"请输入用户名\" />\r\n    </div>\r\n    <div class=\"wrapper__input\">\r\n      <input v-model=\"password\" type=\"password\" placeholder=\"请输入密码\" />\r\n    </div>\r\n    <div class=\"wrapper__input\">\r\n      <input v-model=\"password2\" type=\"password\" placeholder=\"确认密码\" />\r\n    </div>\r\n    <div @click=\"handleRegister\" class=\"wrapper__register-button\">注册</div>\r\n    <div class=\"wrapper__register-link\" @click=\"handleHave\">已有账号去登录</div>\r\n  </div>\r\n  <Toast v-if=\"show\" :message=\"toastMsg\" />\r\n</template>\r\n\r\n<script>\r\nimport { reactive,toRefs } from \"@vue/reactivity\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { post } from \"@/utils/request\";\r\nimport Toast, { useToastEffect } from \"@/components/Toast.vue\";\r\n\r\n// 将注册的逻辑摘离出来\r\nconst useRegisterEffect = (showToast)=>{\r\n  const router = useRouter();\r\n  const data = reactive({\r\n    username: \"\",\r\n    password: \"\",\r\n    password2: \"\",\r\n  });\r\n  const {username, password, password2} = toRefs(data)\r\n  const handleRegister = async () => {\r\n    try {\r\n      const result = await post(\"/api/user/register\", {\r\n        username: data.username,\r\n        password: data.password,\r\n        password2: data.password2,\r\n      });\r\n      if (result?.Error === 0) {\r\n        localStorage.isLogin = true;\r\n        router.push({ name: \"Home\" });\r\n      } else {\r\n        showToast(\"注册失败\");\r\n      }\r\n    } catch (e) {\r\n      showToast(\"请求失败\");\r\n    }\r\n  };\r\n  return {\r\n    handleRegister,\r\n    username, password, password2\r\n  }\r\n}\r\n\r\nconst useLoginEffect = ()=>{\r\n  const router = useRouter();\r\n  const handleHave = () => {\r\n    router.push({ name: \"Login\" });\r\n  };\r\n  return {\r\n    handleHave\r\n  }\r\n}\r\nexport default {\r\n  name: \"RegisterView\",\r\n  setup() {\r\n    const { show, toastMsg, showToast } = useToastEffect();\r\n    const { handleRegister, username, password, password2 } = useRegisterEffect(showToast)\r\n    const { handleHave } = useLoginEffect()\r\n\r\n    return {\r\n      handleHave,\r\n      username, password, password2,\r\n      handleRegister,\r\n      show, toastMsg,\r\n    };\r\n  },\r\n  components: { Toast },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../../style/viriables.scss\";\r\n\r\n.wrapper {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 0;\r\n  right: 0;\r\n  transform: translateY(-50%);\r\n  img {\r\n    display: block;\r\n    margin: 0 auto;\r\n    margin-bottom: 0.4rem;\r\n    height: 0.66rem;\r\n    width: 0.66rem;\r\n  }\r\n  &__input {\r\n    margin: 0 0.4rem 0.16rem 0.4rem;\r\n    padding: 0 0.16rem;\r\n    height: 0.48rem;\r\n    background: #f9f9f9;\r\n    border: 0.01rem solid rgba(0, 0, 0, 0.1);\r\n    border-radius: 0.06rem;\r\n    color: $content-notice-fontcolor;\r\n    input {\r\n      width: 100%;\r\n      line-height: 0.48rem;\r\n      border: none;\r\n      background: none;\r\n      outline: none;\r\n      font-size: 0.16rem;\r\n      ::placeholder {\r\n        color: $content-notice-fontcolor;\r\n      }\r\n    }\r\n  }\r\n  &__register-button {\r\n    margin: 0.32rem 0.4rem 0.16rem 0.4rem;\r\n    line-height: 0.48rem;\r\n    text-align: center;\r\n    font-size: 0.16rem;\r\n    background: $btn-bgColor;\r\n    color: $bgColor;\r\n    box-shadow: 0 .04rem .08rem 0 rgba(0, 145, 255, 0.32);\r\n    border-radius: .04rem;\r\n  }\r\n  &__register-link {\r\n    text-align: center;\r\n    font-size: 0.14rem;\r\n    color: $content-notice-fontcolor;\r\n  }\r\n}\r\n</style>\r\n\r\n","import { render } from \"./Register.vue?vue&type=template&id=6cb9c5b8&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=6cb9c5b8&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Carrie\\\\VVVVVue\\\\jingdong\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6cb9c5b8\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_toDisplayString","$props","name","props","useToastEffect","toastData","reactive","show","toastMsg","toRefs","showToast","msg","setTimeout","__exports__","render","_createElementVNode","src","alt","_hoisted_2","$setup","$event","type","placeholder","onClick","_createBlock","_component_Toast","message","useRegisterEffect","router","useRouter","data","username","password","password2","handleRegister","async","result","post","Error","localStorage","isLogin","push","e","useLoginEffect","handleHave","setup","components","Toast"],"sourceRoot":""}