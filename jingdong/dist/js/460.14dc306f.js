"use strict";(self["webpackChunkjingdong"]=self["webpackChunkjingdong"]||[]).push([[460],{5331:function(s,e,a){a.d(e,{Z:function(){return c},S:function(){return u}});var r=a(6252),n=a(3577);const t={class:"toast"};function o(s,e,a,o,p,d){return(0,r.wg)(),(0,r.iD)("div",t,(0,n.zw)(a.message),1)}var p=a(2262),d={name:"ToastView",props:["message"]};const u=()=>{const s=(0,p.qj)({show:!1,toastMsg:""}),{show:e,toastMsg:a}=(0,p.BK)(s),r=e=>{s.show=!0,s.toastMsg=e,setTimeout((()=>{s.show=!1,s.toastMsg=""}),1500)};return{show:e,toastMsg:a,showToast:r}};var l=a(3744);const w=(0,l.Z)(d,[["render",o],["__scopeId","data-v-0628063c"]]);var c=w},7460:function(s,e,a){a.r(e),a.d(e,{default:function(){return y}});var r=a(6252),n=a(9963);const t=s=>((0,r.dD)("data-v-6cb9c5b8"),s=s(),(0,r.Cn)(),s),o={class:"wrapper"},p=t((()=>(0,r._)("img",{src:"http://www.dell-lee.com/imgs/vue3/user.png",alt:""},null,-1))),d={class:"wrapper__input"},u={class:"wrapper__input"},l={class:"wrapper__input"};function w(s,e,a,t,w,c){const i=(0,r.up)("Toast");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",o,[p,(0,r._)("div",d,[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>t.username=s),type:"text",placeholder:"请输入用户名"},null,512),[[n.nr,t.username]])]),(0,r._)("div",u,[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>t.password=s),type:"password",placeholder:"请输入密码"},null,512),[[n.nr,t.password]])]),(0,r._)("div",l,[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>t.password2=s),type:"password",placeholder:"确认密码"},null,512),[[n.nr,t.password2]])]),(0,r._)("div",{onClick:e[3]||(e[3]=(...s)=>t.handleRegister&&t.handleRegister(...s)),class:"wrapper__register-button"},"注册"),(0,r._)("div",{class:"wrapper__register-link",onClick:e[4]||(e[4]=(...s)=>t.handleHave&&t.handleHave(...s))},"已有账号去登录")]),t.show?((0,r.wg)(),(0,r.j4)(i,{key:0,message:t.toastMsg},null,8,["message"])):(0,r.kq)("",!0)],64)}var c=a(2262),i=a(2201),g=a(4471),h=a(5331);const v=s=>{const e=(0,i.tv)(),a=(0,c.qj)({username:"",password:"",password2:""}),{username:r,password:n,password2:t}=(0,c.BK)(a),o=async()=>{try{const r=await(0,g.v)("/api/user/register",{username:a.username,password:a.password,password2:a.password2});0===r?.Error?(localStorage.isLogin=!0,e.push({name:"Home"})):s("注册失败")}catch(r){s("请求失败")}};return{handleRegister:o,username:r,password:n,password2:t}},m=()=>{const s=(0,i.tv)(),e=()=>{s.push({name:"Login"})};return{handleHave:e}};var _={name:"RegisterView",setup(){const{show:s,toastMsg:e,showToast:a}=(0,h.S)(),{handleRegister:r,username:n,password:t,password2:o}=v(a),{handleHave:p}=m();return{handleHave:p,username:n,password:t,password2:o,handleRegister:r,show:s,toastMsg:e}},components:{Toast:h.Z}},f=a(3744);const k=(0,f.Z)(_,[["render",w],["__scopeId","data-v-6cb9c5b8"]]);var y=k}}]);
//# sourceMappingURL=460.14dc306f.js.map