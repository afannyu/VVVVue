{"version":3,"file":"js/421.2e2aac69.js","mappings":"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","sources":["webpack://jingdong/./src/components/Docker.vue","webpack://jingdong/./src/components/Docker.vue?f302","webpack://jingdong/./src/views/orderList/OrderList.vue","webpack://jingdong/./src/views/orderList/OrderList.vue?8702"],"sourcesContent":["<template>\r\n  <div class=\"docker\">\r\n    <div\r\n    v-for=\"(item,index) in dockerList\" :key=\"item.icon\"\r\n    :class=\"{'docker__item': true, 'docker__item--active': index === currentIndex}\"\r\n    >\r\n    <router-link :to=\"item.to\">\r\n      <div class=\"iconfont\" v-html=\"item.icon\"></div>\r\n      <div class=\"docker__title\">{{item.title}}</div>\r\n    </router-link>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'DockerView',\r\n  props: ['currentIndex'],\r\n  setup() {\r\n    const dockerList =  [\r\n      {icon: '&#xe639;', title: '首页', to: {name: 'Home'}},\r\n      {icon: '&#xe70b;', title: '购物车', to: {name: 'CartList'}},\r\n      {icon: '&#xe645;', title: '订单', to: {name: 'OrderList'}},\r\n      {icon: '&#xe600;', title: '我的', to: {name: 'Home'}},\r\n    ];\r\n    return {dockerList}\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../style/viriables.scss';\r\n\r\n.docker {\r\n  display: flex;\r\n  position: absolute;\r\n  box-sizing: border-box;\r\n  padding: 0 .18rem;\r\n  bottom: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: .49rem;\r\n  box-shadow: 0 -0.01rem .01rem 0 $content-bgcolor;\r\n  color: $content-fontcolor;\r\n  &__item {\r\n    flex: 1;\r\n    text-align: center;\r\n    a {\r\n      text-decoration: none;\r\n      color: $content-fontcolor;\r\n    }\r\n    .iconfont {\r\n      font-size: .18rem;\r\n      margin: .04rem 0 .04rem 0;\r\n    }\r\n    &--active {\r\n      a {\r\n        color: #2190d9;\r\n      }\r\n    }\r\n  }\r\n  &__title {\r\n    font-size: .2rem;\r\n    transform: scale(.5, .5);\r\n    transform-origin: center top;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Docker.vue?vue&type=template&id=7beffcae&scoped=true\"\nimport script from \"./Docker.vue?vue&type=script&lang=js\"\nexport * from \"./Docker.vue?vue&type=script&lang=js\"\n\nimport \"./Docker.vue?vue&type=style&index=0&id=7beffcae&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Carrie\\\\VVVVVue\\\\jingdong\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7beffcae\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"wrapper\">\r\n    <div class=\"title\">我的订单</div>\r\n    <div class=\"orders\">\r\n      <div\r\n      v-for=\"(item, index) of list\"\r\n      :key=\"index\"\r\n      class=\"order\"\r\n      >\r\n        <div class=\"order__title\">\r\n          {{item.shopName}}\r\n          <span v-html=\"item.isCanceled ? '已下单' : '已取消'\"></span>\r\n        </div>\r\n        <div class=\"order__content\">\r\n          <template\r\n          v-for=\"(innerItem, innerIndex) of item.products\"\r\n          :key=\"innerIndex\"\r\n          >\r\n            <div\r\n            v-if=\"innerIndex <= 3\"\r\n            class=\"order__content__imgs\"\r\n            >\r\n              <img :src=\"innerItem.product.imgUrl\" alt=\"\">\r\n            </div>\r\n          </template>\r\n          <div class=\"order__content__info\">\r\n            <div class=\"price\">¥{{item.totalPrice}}</div>\r\n            <div class=\"all\">共{{item.totalCount}}件</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <Docker :currentIndex=\"2\"/>\r\n</template>\r\n\r\n<script>\r\nimport { get } from '@/utils/request'\r\nimport Docker from '../../components/Docker.vue'\r\nimport { reactive, toRefs } from '@vue/reactivity'\r\n\r\nconst useOrderEffect = ()=>{\r\n  const data = reactive({list:[]})\r\n  const getOrderList = async ()=>{\r\n    const result = await get('/api/order')\r\n    if( result?.data?.length && result?.errno === 0){\r\n      const orderList = result.data\r\n      orderList.forEach((order)=>{\r\n        const products = order.products || []\r\n        let totalPrice = 0\r\n        let totalCount = 0\r\n        products.forEach((productItem)=>{\r\n          totalPrice = ( productItem?.orderSales * productItem?.product?.price)\r\n          totalCount += productItem?.orderSales || 0\r\n        })\r\n        order.totalCount = totalCount\r\n        order.totalPrice = totalPrice\r\n      })\r\n      data.list = result.data\r\n    }\r\n  }\r\n  getOrderList()\r\n  const { list } = toRefs(data)\r\n  return {\r\n    list\r\n  }\r\n}\r\n\r\nexport default {\r\n  name: 'OrderListView',\r\n  components: { Docker },\r\n  setup() {\r\n    const { list } = useOrderEffect()\r\n    console.log(list)\r\n    return {\r\n      list\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/viriables.scss';\r\n\r\n.wrapper {\r\n  position: absolute;\r\n  overflow-y: auto;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: .49rem;\r\n  background: #eee;\r\n}\r\n\r\n.title {\r\n  font-size: .16rem;\r\n  line-height: .46rem;\r\n  text-align: center;\r\n  color: $content-fontcolor;\r\n  background: $bgColor;\r\n}\r\n\r\n.order {\r\n  margin: .12rem .18rem;\r\n  padding: .16rem;\r\n  background: $bgColor;\r\n  &__title {\r\n    margin-bottom: .16rem;\r\n    font-size: .16rem;\r\n    line-height: .22rem;\r\n    color: $content-fontcolor;\r\n    span {\r\n      float: right;\r\n      font-size: .14rem;\r\n      color: $light-fontColor;\r\n      text-align: right;\r\n    }\r\n  }\r\n  &__content {\r\n    display: flex;\r\n    position: relative;\r\n    &__imgs {\r\n    display: flex;\r\n    img {\r\n      height: .4rem;\r\n      width: .4rem;\r\n      margin-right: .12rem;\r\n      }\r\n    }\r\n    &__info {\r\n      position: absolute;\r\n      right: 0;\r\n      text-align: right;\r\n      .price {\r\n        line-height: .2rem;\r\n        font-size: .14rem;\r\n        color: $highlight-fontColor;\r\n      }\r\n      .all {\r\n        margin-top: .02rem;\r\n        line-height: .14rem;\r\n        font-size: .12rem;\r\n        color: $content-fontcolor;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n","import { render } from \"./OrderList.vue?vue&type=template&id=072d094b&scoped=true\"\nimport script from \"./OrderList.vue?vue&type=script&lang=js\"\nexport * from \"./OrderList.vue?vue&type=script&lang=js\"\n\nimport \"./OrderList.vue?vue&type=style&index=0&id=072d094b&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Carrie\\\\VVVVVue\\\\jingdong\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-072d094b\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_Fragment","_renderList","$setup","item","index","key","icon","$props","_createVNode","_component_router_link","to","_createElementVNode","innerHTML","_toDisplayString","title","name","props","setup","dockerList","__exports__","render","_hoisted_2","shopName","isCanceled","products","innerItem","innerIndex","src","product","imgUrl","alt","totalPrice","totalCount","_component_Docker","currentIndex","useOrderEffect","data","reactive","list","getOrderList","async","result","get","length","errno","orderList","forEach","order","productItem","orderSales","price","toRefs","components","Docker","console","log"],"sourceRoot":""}