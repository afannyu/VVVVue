{"ast":null,"code":"import { createStore } from 'vuex';\nexport default createStore({\n  state: {\n    cartList: {// 第一层级是商铺的id\n      // 1: {\n      //   // 第二层级是商品的id\n      //   // 第二层级的内容是：商品内容以及购物的数量count\n      //   111: {\n      //     _id: '1',\n      //     name: '番茄250g/份',\n      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n      //     sales: 10,\n      //     price: 33.6,\n      //     oldPrice: 40.2,\n      //     count: 1\n      //   },\n      //   222: {\n      //     _id: '2',\n      //     name: '宁夏砂瓜2~3斤',\n      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/cherry.png',\n      //     sales: 102,\n      //     price: 23.6,\n      //     oldPrice: 30.2,\n      //     count: 2\n      //   }\n      // },\n      // 2: {\n      // }\n    }\n  },\n  getters: {},\n  mutations: {\n    // 两个参数，一个是store中的数据state，\n    // 另一个是传过来的数据，用payload表示\n    changeCartItem(state, payload) {\n      // 拿到state，payload之后，\n      // 就需要结合之前的数据结构往里面添加内容\n      const {\n        shopId,\n        productId,\n        productInfo,\n        num\n      } = payload;\n      let shopInfo = state.cartList[shopId];\n\n      if (!shopInfo) {\n        shopInfo = {};\n      }\n\n      let product = shopInfo[productId];\n\n      if (!product) {\n        product = productInfo;\n        product.count = 0;\n      }\n\n      product.count = product.count + num;\n\n      if (product.count < 0) {\n        product.count = 0;\n      }\n\n      shopInfo[productId] = product;\n      state.cartList[shopId] = shopInfo;\n    }\n\n  },\n  actions: {},\n  modules: {}\n});","map":{"version":3,"names":["createStore","state","cartList","getters","mutations","changeCartItem","payload","shopId","productId","productInfo","num","shopInfo","product","count","actions","modules"],"sources":["C:/Carrie/VVVVVue/jingdong/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex'\n\nexport default createStore({\n  state: {\n    cartList: {\n      // 第一层级是商铺的id\n      // 1: {\n      //   // 第二层级是商品的id\n      //   // 第二层级的内容是：商品内容以及购物的数量count\n      //   111: {\n      //     _id: '1',\n      //     name: '番茄250g/份',\n      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n      //     sales: 10,\n      //     price: 33.6,\n      //     oldPrice: 40.2,\n      //     count: 1\n      //   },\n      //   222: {\n      //     _id: '2',\n      //     name: '宁夏砂瓜2~3斤',\n      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/cherry.png',\n      //     sales: 102,\n      //     price: 23.6,\n      //     oldPrice: 30.2,\n      //     count: 2\n      //   }\n      // },\n      // 2: {\n\n      // }\n    }\n  },\n  getters: {\n  },\n  mutations: {\n    // 两个参数，一个是store中的数据state，\n    // 另一个是传过来的数据，用payload表示\n    changeCartItem(state, payload) {\n      // 拿到state，payload之后，\n      // 就需要结合之前的数据结构往里面添加内容\n      const { shopId, productId, productInfo, num } = payload\n      let shopInfo = state.cartList[shopId]\n      if(!shopInfo) {\n        shopInfo = {}\n      }\n      let product = shopInfo[productId]\n      if(!product) {\n        product = productInfo;\n        product.count = 0\n      }\n      product.count = product.count + num\n      if(product.count < 0) { product.count = 0}\n      shopInfo[productId] = product\n      state.cartList[shopId] = shopInfo\n    }\n  },\n  actions: {\n  },\n  modules: {\n  }\n})\n"],"mappings":"AAAA,SAASA,WAAT,QAA4B,MAA5B;AAEA,eAAeA,WAAW,CAAC;EACzBC,KAAK,EAAE;IACLC,QAAQ,EAAE,CACR;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;IA1BQ;EADL,CADkB;EA+BzBC,OAAO,EAAE,EA/BgB;EAiCzBC,SAAS,EAAE;IACT;IACA;IACAC,cAAc,CAACJ,KAAD,EAAQK,OAAR,EAAiB;MAC7B;MACA;MACA,MAAM;QAAEC,MAAF;QAAUC,SAAV;QAAqBC,WAArB;QAAkCC;MAAlC,IAA0CJ,OAAhD;MACA,IAAIK,QAAQ,GAAGV,KAAK,CAACC,QAAN,CAAeK,MAAf,CAAf;;MACA,IAAG,CAACI,QAAJ,EAAc;QACZA,QAAQ,GAAG,EAAX;MACD;;MACD,IAAIC,OAAO,GAAGD,QAAQ,CAACH,SAAD,CAAtB;;MACA,IAAG,CAACI,OAAJ,EAAa;QACXA,OAAO,GAAGH,WAAV;QACAG,OAAO,CAACC,KAAR,GAAgB,CAAhB;MACD;;MACDD,OAAO,CAACC,KAAR,GAAgBD,OAAO,CAACC,KAAR,GAAgBH,GAAhC;;MACA,IAAGE,OAAO,CAACC,KAAR,GAAgB,CAAnB,EAAsB;QAAED,OAAO,CAACC,KAAR,GAAgB,CAAhB;MAAkB;;MAC1CF,QAAQ,CAACH,SAAD,CAAR,GAAsBI,OAAtB;MACAX,KAAK,CAACC,QAAN,CAAeK,MAAf,IAAyBI,QAAzB;IACD;;EApBQ,CAjCc;EAuDzBG,OAAO,EAAE,EAvDgB;EAyDzBC,OAAO,EAAE;AAzDgB,CAAD,CAA1B"},"metadata":{},"sourceType":"module"}