{"ast":null,"code":"import { useStore } from 'vuex';\nimport { toRefs } from 'vue';\nimport { computed } from 'vue'; // 与购物车有关的逻辑\n\nexport const cartEffects = shopId => {\n  // 首先将该全局对象取出\n  const store = useStore();\n  const {\n    cartList\n  } = toRefs(store.state);\n\n  const changeCartItem = (shopId, productId, productInfo, num) => {\n    store.commit('changeCartItem', {\n      shopId,\n      productId,\n      productInfo,\n      num\n    });\n  };\n\n  const productList = computed(() => {\n    const productList = cartList[shopId]?.productList || [];\n    return productList;\n  });\n  return {\n    changeCartItem,\n    cartList,\n    productList\n  };\n};","map":{"version":3,"names":["useStore","toRefs","computed","cartEffects","shopId","store","cartList","state","changeCartItem","productId","productInfo","num","commit","productList"],"sources":["C:/Carrie/VVVVVue/jingdong/src/effects/cartEffects.js"],"sourcesContent":["import { useStore } from 'vuex'\r\nimport { toRefs } from 'vue'\r\nimport { computed } from 'vue'\r\n\r\n// 与购物车有关的逻辑\r\nexport const cartEffects = (shopId)=>{\r\n  // 首先将该全局对象取出\r\n  const store = useStore()\r\n  const {cartList} = toRefs(store.state)\r\n  const changeCartItem = (shopId, productId, productInfo, num)=>{\r\n    store.commit('changeCartItem',{\r\n      shopId, productId, productInfo, num\r\n    })\r\n  }\r\n  const productList = computed(()=>{\r\n    const productList = cartList[shopId]?.productList || []\r\n    return productList\r\n  })\r\n  return {\r\n    changeCartItem, cartList, productList\r\n  }\r\n}\r\n"],"mappings":"AAAA,SAASA,QAAT,QAAyB,MAAzB;AACA,SAASC,MAAT,QAAuB,KAAvB;AACA,SAASC,QAAT,QAAyB,KAAzB,C,CAEA;;AACA,OAAO,MAAMC,WAAW,GAAIC,MAAD,IAAU;EACnC;EACA,MAAMC,KAAK,GAAGL,QAAQ,EAAtB;EACA,MAAM;IAACM;EAAD,IAAaL,MAAM,CAACI,KAAK,CAACE,KAAP,CAAzB;;EACA,MAAMC,cAAc,GAAG,CAACJ,MAAD,EAASK,SAAT,EAAoBC,WAApB,EAAiCC,GAAjC,KAAuC;IAC5DN,KAAK,CAACO,MAAN,CAAa,gBAAb,EAA8B;MAC5BR,MAD4B;MACpBK,SADoB;MACTC,WADS;MACIC;IADJ,CAA9B;EAGD,CAJD;;EAKA,MAAME,WAAW,GAAGX,QAAQ,CAAC,MAAI;IAC/B,MAAMW,WAAW,GAAGP,QAAQ,CAACF,MAAD,CAAR,EAAkBS,WAAlB,IAAiC,EAArD;IACA,OAAOA,WAAP;EACD,CAH2B,CAA5B;EAIA,OAAO;IACLL,cADK;IACWF,QADX;IACqBO;EADrB,CAAP;AAGD,CAhBM"},"metadata":{},"sourceType":"module"}